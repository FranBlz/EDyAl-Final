FLAGS = -Wall -Wextra -Werror -std=c99 -g

ESTRUCTURA1 = itree
ESTRUCTURA2 = tablahash
ESTRUCTURA3 = stack
ESTRUCTURA4 = conjuntos

SALIDA = salida

all: $(ESTRUCTURA1).o $(ESTRUCTURA2).o $(ESTRUCTURA3).o $(ESTRUCTURA4).o main

$(ESTRUCTURA1).o: $(ESTRUCTURA1).c $(ESTRUCTURA1).h $(ESTRUCTURA3).h
	gcc $(FLAGS) -c $(ESTRUCTURA1).c

$(ESTRUCTURA2).o: $(ESTRUCTURA2).c $(ESTRUCTURA2).h
	gcc $(FLAGS) -c  $(ESTRUCTURA2).c

$(ESTRUCTURA3).o: $(ESTRUCTURA3).c $(ESTRUCTURA3).h $(ESTRUCTURA1).h
	gcc $(FLAGS) -c  $(ESTRUCTURA3).c

$(ESTRUCTURA4).o: $(ESTRUCTURA4).c $(ESTRUCTURA2).h $(ESTRUCTURA1).h
	gcc $(FLAGS) -c  $(ESTRUCTURA4).c

main: interprete.c $(ESTRUCTURA1).o $(ESTRUCTURA2).o $(ESTRUCTURA3).o $(ESTRUCTURA4).o
	gcc $(FLAGS) -o $(SALIDA) interprete.c $(ESTRUCTURA1).o $(ESTRUCTURA2).o $(ESTRUCTURA3).o $(ESTRUCTURA4).o

clean: 
	rm *.o salida


